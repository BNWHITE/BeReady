<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APP Info & BDD - Focus ISEP</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="main-header">
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="logo">FOCUS ISEP</a>
                <nav class="nav-links">
                    <a href="index.html" class="nav-link">Accueil</a>
                    <a href="index.html#app" class="nav-link active">APP Info & BDD</a>
                    <a href="index.html#maths" class="nav-link">Math√©matiques</a>
                </nav>
                <div class="user-section">
                    <button id="themeToggle" class="theme-toggle" title="Changer le th√®me">
                        <i class="fas fa-moon"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <section class="hero-section" style="background: linear-gradient(135deg, var(--isep-blue-dark) 0%, #1a2a6c 100%);">
        <div class="container">
            <div class="hero-content" style="text-align: center; display: block;">
                <h1 class="hero-title">üéØ Objectif : Majeure BDD</h1>
                <p class="hero-description" style="margin: 0 auto 30px; max-width: 700px;">
                    Tout pour r√©ussir le partiel : Mod√®le Conceptuel, Mapping Relationnel et SQL.
                    Bas√© sur les cours officiels.
                </p>
                <div class="hero-actions" style="justify-content: center;">
                    <button class="cta-button" onclick="showTab('quiz')"><i class="fas fa-gamepad"></i> Lancer le Quiz</button>
                    <button class="cta-button secondary" onclick="showTab('cheatsheet')"><i class="fas fa-file-code"></i> Cheat Sheet SQL</button>
                </div>
            </div>
        </div>
    </section>

    <div class="container main-content-area">
        <div class="tabs-container">
            <button class="tab-btn active" onclick="showTab('cours')"><i class="fas fa-book"></i> Cours & M√©thode</button>
            <button class="tab-btn" onclick="showTab('cheatsheet')"><i class="fas fa-bolt"></i> Fiches M√©mo</button>
            <button class="tab-btn" onclick="showTab('quiz')"><i class="fas fa-brain"></i> Entra√Ænement</button>
        </div>

        <div id="cours" class="tab-content active">
            <div class="content-grid">
                
                <div class="content-card">
                    <div class="card-header-colored">
                        <i class="fas fa-sitemap"></i>
                        <h3>1. Mod√®le Conceptuel (MCD)</h3>
                    </div>
                    <div class="accordion">
                        <div class="accordion-item">
                            <button class="accordion-header">Entit√©s & Attributs <i class="fas fa-chevron-down"></i></button>
                            <div class="accordion-body">
                                <p><strong>Entit√© :</strong> Un objet ayant une existence propre (ex: <em>Personne, Livre</em>). Elle devient une <strong>Table</strong>.</p>
                                <p><strong>Attribut :</strong> Donn√©e √©l√©mentaire (ex: <em>Nom, Pr√©nom</em>). Devient une <strong>Colonne</strong>.</p>
                                <p><strong>Identifiant :</strong> Attribut soulign√© unique (ex: <em>N¬∞S√©cu</em>). Devient la <strong>Cl√© Primaire</strong>.</p>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <button class="accordion-header">Les Cardinalit√©s <i class="fas fa-chevron-down"></i></button>
                            <div class="accordion-body">
                                <ul>
                                    <li><strong>1..1 (One-to-One) :</strong> Une entit√© est li√©e √† une et une seule autre.</li>
                                    <li><strong>1..n (One-to-Many) :</strong> Une entit√© peut √™tre li√©e √† plusieurs autres (ex: Un auteur √©crit plusieurs livres).</li>
                                    <li><strong>n..n (Many-to-Many) :</strong> Plusieurs entit√©s li√©es √† plusieurs autres (ex: Un √©l√®ve suit plusieurs cours, un cours a plusieurs √©l√®ves).</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="content-card">
                    <div class="card-header-colored" style="background: var(--isep-blue-medium);">
                        <i class="fas fa-project-diagram"></i>
                        <h3>2. Mapping (MCD vers MLD)</h3>
                    </div>
                    <div class="accordion">
                        <div class="accordion-item">
                            <button class="accordion-header">R√®gle du 1..n (Cl√© √âtrang√®re) <i class="fas fa-chevron-down"></i></button>
                            <div class="accordion-body">
                                <p>On prend la cl√© primaire de l'entit√© c√¥t√© "1" et on l'ajoute comme <strong>Cl√© √âtrang√®re</strong> dans la table c√¥t√© "n".</p>
                                <div class="code-snippet">
                                    Pilote(1) ---- (n)Vol<br>
                                    => Table Vol contient "id_Pilote"
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <button class="accordion-header">R√®gle du n..n (Table de Jointure) <i class="fas fa-chevron-down"></i></button>
                            <div class="accordion-body">
                                <p>On cr√©e une <strong>Nouvelle Table</strong> qui contient les cl√©s primaires des deux entit√©s comme cl√©s √©trang√®res.</p>
                                <div class="code-snippet">
                                    Etudiant(n) --- (n)Cours<br>
                                    => Table "Suit"(id_Etudiant, id_Cours, note)
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="content-card">
                    <div class="card-header-colored" style="background: #2c3e50;">
                        <i class="fas fa-database"></i>
                        <h3>3. Langage SQL</h3>
                    </div>
                    <div class="accordion">
                        <div class="accordion-item">
                            <button class="accordion-header">DDL : Cr√©ation <i class="fas fa-chevron-down"></i></button>
                            <div class="accordion-body">
                                <p>Commandes de structure :</p>
                                <ul>
                                    <li><code>CREATE TABLE</code> : Cr√©er une table.</li>
                                    <li><code>ALTER TABLE</code> : Modifier (ajouter colonne).</li>
                                    <li><code>DROP TABLE</code> : Supprimer.</li>
                                </ul>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <button class="accordion-header">Contraintes d'Int√©grit√© <i class="fas fa-chevron-down"></i></button>
                            <div class="accordion-body">
                                <ul>
                                    <li><code>PRIMARY KEY</code> : Unique et non nul.</li>
                                    <li><code>FOREIGN KEY ... REFERENCES</code> : Lien vers une autre table.</li>
                                    <li><code>NOT NULL</code> : Obligatoire.</li>
                                    <li><code>ON DELETE CASCADE</code> : Si le parent est supprim√©, l'enfant l'est aussi.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div id="cheatsheet" class="tab-content">
            <h2 class="section-title">‚ö° La Feuille de Triche Ultime</h2>
            
            <div class="cheat-sheet-container">
                <div class="code-block-wrapper">
                    <h4>Cr√©ation de Table (Template)</h4>
                    <pre><code class="language-sql">
CREATE TABLE Etudiant (
    id INT PRIMARY KEY AUTO_INCREMENT,
    nom VARCHAR(50) NOT NULL,
    email VARCHAR(100) UNIQUE,
    date_naissance DATE,
    promo_id INT,
    FOREIGN KEY (promo_id) REFERENCES Promo(id) 
        ON DELETE SET NULL
);
                    </code></pre>
                </div>

                <div class="code-block-wrapper">
                    <h4>Requ√™tes de Base</h4>
                    <pre><code class="language-sql">
-- Ins√©rer
INSERT INTO Etudiant (nom, email) VALUES ('Dupont', 'd@isep.fr');

-- Modifier
UPDATE Etudiant SET nom = 'Durand' WHERE id = 1;

-- Supprimer
DELETE FROM Etudiant WHERE id = 1;

-- S√©lectionner
SELECT nom, email FROM Etudiant WHERE date_naissance > '2000-01-01';
                    </code></pre>
                </div>
                
                <div class="info-box warning">
                    <i class="fas fa-exclamation-triangle"></i>
                    <p><strong>Attention aux types :</strong> <code>VARCHAR</code> pour le texte, <code>INT</code> pour les entiers, <code>DATE</code> (AAAA-MM-JJ). Ne jamais oublier le <code>;</code> √† la fin !</p>
                </div>
            </div>
        </div>

        <div id="quiz" class="tab-content">
            <div class="quiz-container">
                <div class="quiz-header">
                    <h2><i class="fas fa-stopwatch"></i> Test Rapide BDD</h2>
                    <div class="score-display">Score: <span id="score">0</span>/5</div>
                </div>
                
                <div id="quiz-box">
                    </div>

                <div id="quiz-result" class="hidden">
                    <h3>R√©sultat Final</h3>
                    <p id="result-message"></p>
                    <button class="cta-button" onclick="resetQuiz()">Recommencer</button>
                </div>
            </div>
        </div>

    </div>

    <footer class="main-footer">
        <div class="container">
            <div class="footer-bottom">
                <p>&copy; 2025 Focus ISEP. Pr√™t pour le partiel !</p>
            </div>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script src="app_info.js"></script> 
    <script>
        // Script simple pour le th√®me (gard√© de ton fichier original)
        const themeToggle = document.getElementById('themeToggle');
        const currentTheme = localStorage.getItem('theme') || 'light';
        document.documentElement.setAttribute('data-theme', currentTheme);
        themeToggle.addEventListener('click', () => {
            const newTheme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
        });
    </script>
</body>
</html>
